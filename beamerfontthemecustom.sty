\RequirePackage{iftex}

\ifPDFTeX%
	\PackageError{custom}%
	{PDFTeX is unsupported (at least for now) since our template needs to load some fonts.}%
	{}
\else%
	\RequirePackage{fontspec}

	\IfStrEq{\custom@fonts@main}{\@empty}{%
		%% If no custom main font has been requested
		\setmainfont[
			Path = {\custom@path fonts/Yanone_Kaffeesatz/},
			UprightFeatures={
					LetterSpace=4.2,
					Weight=400,
				},
			BoldFont            =   *,
			BoldFeatures={
					LetterSpace=4.2,
					Weight=900,
				},
			ItalicFeatures={
					LetterSpace=4.2,
					Slant=-5
				}
		]{YanoneKaffeesatz-VariableFont_wght.ttf}
	}{%
		\setmainfont{\custom@fonts@main}
	}

	\IfStrEq{\custom@fonts@sans}{\@empty}{%
		%% If no custom sans font has been requested
		\setsansfont[
			Path           = {\custom@path fonts/Andika/},
			Extension      = .ttf,
			Ligatures      = TeX,
			UprightFont    = *-Regular,
			BoldFont       = *-Bold,
			ItalicFont     = *-Italic,
			BoldItalicFont = *-BoldItalic
		]{Andika}
	}{%
		\setsansfont{\custom@fonts@sans}
	}

	\IfStrEq{\custom@fonts@mono}{\@empty}{%
		%% If no custom mono font has been requested
		\setmonofont[
			Path           = {\custom@path fonts/IosevkaCustom/},
			Extension      = .ttf,
			UprightFont    = *-Regular,
			ItalicFont     = *-Italic,
			BoldFont       = *-Bold,
			BoldItalicFont = *-BoldItalic
		]{IosevkaCustom}
	}{%
		\setmonofont{\custom@fonts@mono}
	}
\fi

\setbeamerfont*{structure}{family=\rmfamily}%,series=\bfseries\boldmath}

\setbeamerfont*{frametitle}{size=\Large,parent=structure}
\setbeamerfont*{framesubtitle}{size=\large,parent=frametitle}

\setbeamerfont*{footline}{size=\tiny, series=\bfseries, family=\sffamily}

\setbeamerfont*{title}{size=\LARGE, family=\sffamily}
\setbeamerfont*{subtitle}{size=\normalsize, family=\sffamily}
\setbeamerfont*{author}{size=\large, family=\rmfamily}
\setbeamerfont*{titlepage date}{size=\normalfont, family=\rmfamily}

\setbeamerfont*{section in toc}{parent=structure}
\setbeamerfont*{subsection in toc}{parent=structure}

\setbeamerfont*{itemize item}{parent=structure, series=\bfseries\boldmath}
\setbeamerfont*{enumerate item}{parent=structure, series=\bfseries\boldmath}

\setbeamerfont*{block title}{family=\rmfamily, size=\large}

\setbeamerfont*{structure}{family=\rmfamily}

\setbeamerfont*{itemize item}{parent=structure, series=\bfseries\boldmath}
\setbeamerfont*{enumerate item}{parent=structure, series=\bfseries\boldmath}

\setbeamerfont*{qed symbol}{size=\footnotesize, series=\boldmath}

\BeforeBeginEnvironment{lemma}{%
	\let\theoremicon\faCheckCircle%
}
\BeforeBeginEnvironment{theorem}{%
	\let\theoremicon\faCheckCircle%
}
\BeforeBeginEnvironment{definition}{%
	\let\theoremicon\faEdit%
}